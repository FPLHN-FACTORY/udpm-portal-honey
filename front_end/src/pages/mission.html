<div class="container">
  <div class="row">
    <div class="col-8">
      <h4 class="mt-3 fw-bold">
        Nhiệm vụ
        <span my-tooltip tooltip-content="Thêm nhiệm vụ">
          <a
            href="#mission/add"
            type="button"
            style="border: 0px solid #999; background-color: transparent"
            data-bs-toggle="modal"
            data-bs-target="#add"
          >
            <i class="fa fa-plus-circle" style="color: green"></i>
          </a>
        </span>
      </h4>
    </div>
    <div class="col-4">
      <input
        class="form-control"
        type="search"
        ng-model="q"
        placeholder="Nhập thông tin bạn muốn tìm"
        aria-label="Search"
      />
    </div>
  </div>

  <table
    class="table table-bordered m-table d-sm-table m-table--head-bg-primary"
    style="text-align: center; margin-top: 20px"
  >
    <tr class="row-orange">
      <th>Mã</th>
      <th>Tên</th>
      <th>Điểm thưởng</th>
      <th>Hành động</th>
    </tr>
    <tr
      dir-paginate="ms in mission | itemsPerPage: pageSize"
      current-page="currentPage"
      pagination-id="missionPagination"
    >
      <td>{{ms.code}}</td>
      <td>{{ms.name}}</td>
      <td>{{ms.pointMission}}</td>
      <td>
        <span my-tooltip tooltip-content="Sửa nhiệm vụ">
          <a
            href="#mission/update/{{ms.id}}"
            class="btn btn-warning"
            data-bs-toggle="modal"
            data-bs-target="#update"
            ng-click="detail($event, ms.id)"
            ><i class="fa fa-pen"></i
          ></a>
        </span>
        <span my-tooltip tooltip-content="Xóa nhiệm vụ">
          <a
            href="#mission/delete/{{ms.id}}"
            class="btn btn-danger"
            ng-click="delete($event,$index)"
            ><i class="fa fa-trash"></i
          ></a>
        </span>
        <span my-tooltip tooltip-content="Chi tiết nhiệm vụ">
          <a
            href="#mission/detail/{{ms.id}}"
            class="btn btn-info"
            data-bs-toggle="modal"
            data-bs-target="#detail"
            ng-click="detail($event, ms.id)"
            ><i class="fa fa-eye"></i
          ></a>
        </span>
      </td>
    </tr>
  </table>

  <div
    class="text-center"
    style="width: 200px; margin-left: auto; margin-right: auto"
  >
    <dir-pagination-controls
      boundary-links="true"
      template-url="layout/dirPagination.tql.html"
      pagination-id="missionPagination"
    ></dir-pagination-controls>
  </div>
  <!-- modal -->

  <!-- Modal -->
  <div
    class="modal fade"
    id="add"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">
            Thêm nhiệm vụ
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <!-- modal  body -->
          <form method="POST">
            <div class="row">
              <div class="col-2">
                <label>Tên</label>
              </div>
              <div class="col-10">
                <input
                  type="text"
                  placeholder="Enter name"
                  ng-model="form_mission.name"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Điểm</label>
              </div>
              <div class="col-10">
                <input
                  type="number"
                  placeholder="Enter point"
                  ng-model="form_mission.pointMission"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Ngày bắt đầu</label>
              </div>
              <div class="col-10">
                <input
                  type="datetime-local"
                  ng-model="form_mission.startDay"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Ngày kết thúc</label>
              </div>
              <div class="col-10">
                <input
                  type="datetime-local"
                  ng-model="form_mission.finishDay"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Mô tả</label>
              </div>
              <div class="col-10">
                <textarea
                  type="text"
                  placeholder="Enter note"
                  ng-model="form_mission.describeMission"
                  class="form-control"
                ></textarea>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
            Đóng
          </button>
          <button
            type="submit"
            class="btn btn-primary"
            data-bs-dismiss="modal"
            ng-click="add($event)"
          >
            Thêm mới
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal update  -->
  <div
    class="modal fade"
    id="update"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">
            Sửa nhiệm vụ
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            ng-click="clearData()"
          ></button>
        </div>
        <div class="modal-body">
          <!-- modal  body -->
          <form method="PUT">
            <div class="row">
              <div class="col-2">
                <label>Tên</label>
              </div>
              <div class="col-10">
                <input
                  type="text"
                  placeholder="Enter name"
                  ng-model="form_mission.name"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Điểm</label>
              </div>
              <div class="col-10">
                <input
                  type="number"
                  placeholder="Enter point"
                  ng-model="form_mission.pointMission"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Ngày bắt đầu</label>
              </div>
              <div class="col-10">
                <input
                  type="datetime-local"
                  ng-model="form_mission.startDay"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Ngày kết thúc</label>
              </div>
              <div class="col-10">
                <input
                  type="datetime-local"
                  ng-model="form_mission.finishDay"
                  class="form-control"
                />
              </div>
            </div>
            <br />
            <div class="row">
              <div class="col-2">
                <label>Mô tả</label>
              </div>
              <div class="col-10">
                <textarea
                  type="text"
                  placeholder="Enter note"
                  ng-model="form_mission.describeMission"
                  class="form-control"
                ></textarea>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-danger"
            data-bs-dismiss="modal"
            ng-click="clearData()"
          >
            Đóng
          </button>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-dismiss="modal"
            ng-click="update($event)"
          >
            Sửa
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- modal chi tiet  -->
<div
  class="modal fade"
  id="detail"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">
          Chi tiết nhiệm vụ
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          ng-click="clearData()"
        ></button>
      </div>
      <div class="modal-body">
        <!-- modal  body -->
        <form method="PUT">
          <div class="row">
            <div class="col-2">
              <label>Tên</label>
            </div>
            <div class="col-10">
              <input
                type="text"
                placeholder="Enter name"
                ng-model="form_mission.name"
                class="form-control"
                disabled
              />
            </div>
          </div>
          <br />
          <div class="row">
            <div class="col-2">
              <label>Điểm</label>
            </div>
            <div class="col-10">
              <input
                type="number"
                placeholder="Enter point"
                ng-model="form_mission.pointMission"
                class="form-control"
                disabled
              />
            </div>
          </div>
          <br />
          <div class="row">
            <div class="col-2">
              <label>Ngày bắt đầu</label>
            </div>
            <div class="col-10">
              <input
                type="text"
                ng-model="form_mission.startDay"
                class="form-control"
                disabled
              />
            </div>
          </div>
          <br />
          <div class="row">
            <div class="col-2">
              <label>Ngày kết thúc</label>
            </div>
            <div class="col-10">
              <input
                type="text"
                ng-model="form_mission.finishDay"
                class="form-control"
                disabled
              />
            </div>
          </div>
          <br />
          <div class="row">
            <div class="col-2">
              <label>Mô tả</label>
            </div>
            <div class="col-10">
              <textarea
                type="text"
                placeholder="Enter note"
                ng-model="form_mission.describeMission"
                class="form-control"
                disabled
              ></textarea>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger"
          data-bs-dismiss="modal"
          ng-click="clearData()"
        >
          Đóng
        </button>
      </div>
    </div>
  </div>
</div>
